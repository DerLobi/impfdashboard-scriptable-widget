{"version":3,"file":"vega-geo.min.js","sources":["../../../node_modules/d3-array/src/ticks.js","../../../node_modules/d3-array/src/max.js","../../../node_modules/d3-array/src/range.js","../src/util/contours.js","../src/util/quantize.js","../src/Isocontour.js","../src/util/density2D.js","../../../node_modules/d3-array/src/sum.js","../src/KDE2D.js","../src/Contour.js","../src/constants.js","../src/GeoJSON.js","../src/GeoPath.js","../src/GeoPoint.js","../src/GeoShape.js","../../../node_modules/d3-geo/src/math.js","../../../node_modules/d3-geo/src/graticule.js","../src/Graticule.js","../../../node_modules/d3-color/src/define.js","../../../node_modules/d3-color/src/color.js","../src/Heatmap.js","../src/Projection.js"],"sourcesContent":["var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    step = -step;\n    start = Math.ceil(start * step);\n    stop = Math.floor(stop * step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","import {error} from 'vega-util';\n\nfunction noop() {}\n\nconst cases = [\n  [],\n  [[[1.0, 1.5], [0.5, 1.0]]],\n  [[[1.5, 1.0], [1.0, 1.5]]],\n  [[[1.5, 1.0], [0.5, 1.0]]],\n  [[[1.0, 0.5], [1.5, 1.0]]],\n  [[[1.0, 1.5], [0.5, 1.0]], [[1.0, 0.5], [1.5, 1.0]]],\n  [[[1.0, 0.5], [1.0, 1.5]]],\n  [[[1.0, 0.5], [0.5, 1.0]]],\n  [[[0.5, 1.0], [1.0, 0.5]]],\n  [[[1.0, 1.5], [1.0, 0.5]]],\n  [[[0.5, 1.0], [1.0, 0.5]], [[1.5, 1.0], [1.0, 1.5]]],\n  [[[1.5, 1.0], [1.0, 0.5]]],\n  [[[0.5, 1.0], [1.5, 1.0]]],\n  [[[1.0, 1.5], [1.5, 1.0]]],\n  [[[0.5, 1.0], [1.0, 1.5]]],\n  []\n];\n\n// Implementation adapted from d3/d3-contour. Thanks!\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      smooth = smoothLinear;\n\n  function contours(values, tz) {\n    return tz.map(value => contour(values, value));\n  }\n\n  // Accumulate, smooth contour rings, assign holes to exterior rings.\n  // Based on https://github.com/mbostock/shapefile/blob/v0.6.2/shp/polygon.js\n  function contour(values, value) {\n    var polygons = [],\n        holes = [];\n\n    isorings(values, value, ring => {\n      smooth(ring, values, value);\n      if (area(ring) > 0) polygons.push([ring]);\n      else holes.push(ring);\n    });\n\n    holes.forEach(hole => {\n      for (var i = 0, n = polygons.length, polygon; i < n; ++i) {\n        if (contains((polygon = polygons[i])[0], hole) !== -1) {\n          polygon.push(hole);\n          return;\n        }\n      }\n    });\n\n    return {\n      type: 'MultiPolygon',\n      value: value,\n      coordinates: polygons\n    };\n  }\n\n  // Marching squares with isolines stitched into rings.\n  // Based on https://github.com/topojson/topojson-client/blob/v3.0.0/src/stitch.js\n  function isorings(values, value, callback) {\n    var fragmentByStart = new Array,\n        fragmentByEnd = new Array,\n        x, y, t0, t1, t2, t3;\n\n    // Special case for the first row (y = -1, t2 = t3 = 0).\n    x = y = -1;\n    t1 = values[0] >= value;\n    cases[t1 << 1].forEach(stitch);\n    while (++x < dx - 1) {\n      t0 = t1, t1 = values[x + 1] >= value;\n      cases[t0 | t1 << 1].forEach(stitch);\n    }\n    cases[t1 << 0].forEach(stitch);\n\n    // General case for the intermediate rows.\n    while (++y < dy - 1) {\n      x = -1;\n      t1 = values[y * dx + dx] >= value;\n      t2 = values[y * dx] >= value;\n      cases[t1 << 1 | t2 << 2].forEach(stitch);\n      while (++x < dx - 1) {\n        t0 = t1, t1 = values[y * dx + dx + x + 1] >= value;\n        t3 = t2, t2 = values[y * dx + x + 1] >= value;\n        cases[t0 | t1 << 1 | t2 << 2 | t3 << 3].forEach(stitch);\n      }\n      cases[t1 | t2 << 3].forEach(stitch);\n    }\n\n    // Special case for the last row (y = dy - 1, t0 = t1 = 0).\n    x = -1;\n    t2 = values[y * dx] >= value;\n    cases[t2 << 2].forEach(stitch);\n    while (++x < dx - 1) {\n      t3 = t2, t2 = values[y * dx + x + 1] >= value;\n      cases[t2 << 2 | t3 << 3].forEach(stitch);\n    }\n    cases[t2 << 3].forEach(stitch);\n\n    function stitch(line) {\n      var start = [line[0][0] + x, line[0][1] + y],\n          end = [line[1][0] + x, line[1][1] + y],\n          startIndex = index(start),\n          endIndex = index(end),\n          f, g;\n      if (f = fragmentByEnd[startIndex]) {\n        if (g = fragmentByStart[endIndex]) {\n          delete fragmentByEnd[f.end];\n          delete fragmentByStart[g.start];\n          if (f === g) {\n            f.ring.push(end);\n            callback(f.ring);\n          } else {\n            fragmentByStart[f.start] = fragmentByEnd[g.end] = {start: f.start, end: g.end, ring: f.ring.concat(g.ring)};\n          }\n        } else {\n          delete fragmentByEnd[f.end];\n          f.ring.push(end);\n          fragmentByEnd[f.end = endIndex] = f;\n        }\n      } else if (f = fragmentByStart[endIndex]) {\n        if (g = fragmentByEnd[startIndex]) {\n          delete fragmentByStart[f.start];\n          delete fragmentByEnd[g.end];\n          if (f === g) {\n            f.ring.push(end);\n            callback(f.ring);\n          } else {\n            fragmentByStart[g.start] = fragmentByEnd[f.end] = {start: g.start, end: f.end, ring: g.ring.concat(f.ring)};\n          }\n        } else {\n          delete fragmentByStart[f.start];\n          f.ring.unshift(start);\n          fragmentByStart[f.start = startIndex] = f;\n        }\n      } else {\n        fragmentByStart[startIndex] = fragmentByEnd[endIndex] = {start: startIndex, end: endIndex, ring: [start, end]};\n      }\n    }\n  }\n\n  function index(point) {\n    return point[0] * 2 + point[1] * (dx + 1) * 4;\n  }\n\n  function smoothLinear(ring, values, value) {\n    ring.forEach(point => {\n      var x = point[0],\n          y = point[1],\n          xt = x | 0,\n          yt = y | 0,\n          v0,\n          v1 = values[yt * dx + xt];\n      if (x > 0 && x < dx && xt === x) {\n        v0 = values[yt * dx + xt - 1];\n        point[0] = x + (value - v0) / (v1 - v0) - 0.5;\n      }\n      if (y > 0 && y < dy && yt === y) {\n        v0 = values[(yt - 1) * dx + xt];\n        point[1] = y + (value - v0) / (v1 - v0) - 0.5;\n      }\n    });\n  }\n\n  contours.contour = contour;\n\n  contours.size = function(_) {\n    if (!arguments.length) return [dx, dy];\n    var _0 = Math.floor(_[0]), _1 = Math.floor(_[1]);\n    if (!(_0 >= 0 && _1 >= 0)) error('invalid size');\n    return dx = _0, dy = _1, contours;\n  };\n\n  contours.smooth = function(_) {\n    return arguments.length ? (smooth = _ ? smoothLinear : noop, contours) : smooth === smoothLinear;\n  };\n\n  return contours;\n}\n\nfunction area(ring) {\n  var i = 0,\n      n = ring.length,\n      area = ring[n - 1][1] * ring[0][0] - ring[n - 1][0] * ring[0][1];\n  while (++i < n) area += ring[i - 1][1] * ring[i][0] - ring[i - 1][0] * ring[i][1];\n  return area;\n}\n\nfunction contains(ring, hole) {\n  var i = -1, n = hole.length, c;\n  while (++i < n) if (c = ringContains(ring, hole[i])) return c;\n  return 0;\n}\n\nfunction ringContains(ring, point) {\n  var x = point[0], y = point[1], contains = -1;\n  for (var i = 0, n = ring.length, j = n - 1; i < n; j = i++) {\n    var pi = ring[i], xi = pi[0], yi = pi[1], pj = ring[j], xj = pj[0], yj = pj[1];\n    if (segmentContains(pi, pj, point)) return 0;\n    if (((yi > y) !== (yj > y)) && ((x < (xj - xi) * (y - yi) / (yj - yi) + xi))) contains = -contains;\n  }\n  return contains;\n}\n\nfunction segmentContains(a, b, c) {\n  var i; return collinear(a, b, c) && within(a[i = +(a[0] === b[0])], c[i], b[i]);\n}\n\nfunction collinear(a, b, c) {\n  return (b[0] - a[0]) * (c[1] - a[1]) === (c[0] - a[0]) * (b[1] - a[1]);\n}\n\nfunction within(p, q, r) {\n  return p <= q && q <= r || r <= q && q <= p;\n}\n","import {range, tickStep} from 'd3-array';\nimport {extent} from 'vega-util';\n\nexport default function(k, nice, zero) {\n  return function(values) {\n    var ex = extent(values),\n        start = zero ? Math.min(ex[0], 0) : ex[0],\n        stop = ex[1],\n        span = stop - start,\n        step = nice ? tickStep(start, stop, k) : (span / (k + 1));\n    return range(start + step, stop, step);\n  };\n}\n","import {max} from 'd3-array';\nimport {Transform, ingest, rederive} from 'vega-dataflow';\nimport {identity, inherits, isArray, isFunction, isNumber} from 'vega-util';\nimport contours from './util/contours';\nimport quantize from './util/quantize';\n\n/**\n * Generate isocontours (level sets) based on input raster grid data.\n * @constructor\n * @param {object} params - The parameters for this operator.\n * @param {function(object): *} [params.field] - The field with raster grid\n *   data. If unspecified, the tuple itself is interpreted as a raster grid.\n * @param {Array<number>} [params.thresholds] - Contour threshold array. If\n *   specified, the levels, nice, resolve, and zero parameters are ignored.\n * @param {number} [params.levels] - The desired number of contour levels.\n * @param {boolean} [params.nice] - Boolean flag indicating if the contour\n *   threshold values should be automatically aligned to \"nice\"\n *   human-friendly values. Setting this flag may cause the number of\n *   thresholds to deviate from the specified levels.\n * @param {string} [params.resolve] - The method for resolving thresholds\n *   across multiple input grids. If 'independent' (the default), threshold\n *   calculation will be performed separately for each grid. If 'shared', a\n *   single set of threshold values will be used for all input grids.\n * @param {boolean} [params.zero] - Boolean flag indicating if the contour\n *   threshold values should include zero.\n * @param {boolean} [params.smooth] - Boolean flag indicating if the contour\n *   polygons should be smoothed using linear interpolation. The default is\n *   true. The parameter is ignored when using density estimation.\n * @param {boolean} [params.scale] - Optional numerical value by which to\n *   scale the output isocontour coordinates. This parameter can be useful\n *   to scale the contours to match a desired output resolution.\n * @param {string} [params.as='contour'] - The output field in which to store\n *   the generated isocontour data (default 'contour').\n */\nexport default function Isocontour(params) {\n  Transform.call(this, null, params);\n}\n\nIsocontour.Definition = {\n  'type': 'Isocontour',\n  'metadata': {'generates': true},\n  'params': [\n    { 'name': 'field', 'type': 'field' },\n    { 'name': 'thresholds', 'type': 'number', 'array': true },\n    { 'name': 'levels', 'type': 'number' },\n    { 'name': 'nice', 'type': 'boolean', 'default': false },\n    { 'name': 'resolve', 'type': 'enum', 'values': ['shared', 'independent'], 'default': 'independent' },\n    { 'name': 'zero', 'type': 'boolean', 'default': true },\n    { 'name': 'smooth', 'type': 'boolean', 'default': true },\n    { 'name': 'scale', 'type': 'number', 'expr': true },\n    { 'name': 'translate', 'type': 'number', 'array': true, 'expr': true },\n    { 'name': 'as', 'type': 'string', 'null': true, 'default': 'contour' }\n  ]\n};\n\ninherits(Isocontour, Transform, {\n  transform(_, pulse) {\n    if (this.value && !pulse.changed() && !_.modified()) {\n      return pulse.StopPropagation;\n    }\n\n    var out = pulse.fork(pulse.NO_SOURCE | pulse.NO_FIELDS),\n        source = pulse.materialize(pulse.SOURCE).source,\n        field = _.field || identity,\n        contour = contours().smooth(_.smooth !== false),\n        tz = _.thresholds || levels(source, field, _),\n        as = _.as === null ? null : _.as || 'contour',\n        values = [];\n\n    source.forEach(t => {\n      const grid = field(t);\n\n      // generate contour paths in GeoJSON format\n      const paths = contour.size([grid.width, grid.height])(\n        grid.values, isArray(tz) ? tz : tz(grid.values)\n      );\n\n      // adjust contour path coordinates as needed\n      transformPaths(paths, grid, t, _);\n\n      // ingest; copy source data properties to output\n      paths.forEach(p => {\n        values.push(rederive(t, ingest(as != null ? {[as]: p} : p)));\n      });\n    });\n\n    if (this.value) out.rem = this.value;\n    this.value = out.source = out.add = values;\n\n    return out;\n  }\n});\n\nfunction levels(values, f, _) {\n  const q = quantize(_.levels || 10, _.nice, _.zero !== false);\n  return _.resolve !== 'shared'\n    ? q\n    : q(values.map(t => max(f(t).values)));\n}\n\nfunction transformPaths(paths, grid, datum, _) {\n  let s = _.scale || grid.scale,\n      t = _.translate || grid.translate;\n  if (isFunction(s)) s = s(datum, _);\n  if (isFunction(t)) t = t(datum, _);\n  if ((s === 1 || s == null) && !t) return;\n\n  const sx = (isNumber(s) ? s : s[0]) || 1,\n        sy = (isNumber(s) ? s : s[1]) || 1,\n        tx = t && t[0] || 0,\n        ty = t && t[1] || 0;\n\n  paths.forEach(transform(grid, sx, sy, tx, ty));\n}\n\nexport function transform(grid, sx, sy, tx, ty) {\n  const x1 = grid.x1 || 0,\n        y1 = grid.y1 || 0,\n        flip = sx * sy < 0;\n\n  function transformPolygon(coordinates) {\n    coordinates.forEach(transformRing);\n  }\n\n  function transformRing(coordinates) {\n    if (flip) coordinates.reverse(); // maintain winding order\n    coordinates.forEach(transformPoint);\n  }\n\n  function transformPoint(coordinates) {\n    coordinates[0] = (coordinates[0] - x1) * sx + tx;\n    coordinates[1] = (coordinates[1] - y1) * sy + ty;\n  }\n\n  return function(geometry) {\n    geometry.coordinates.forEach(transformPolygon);\n    return geometry;\n  };\n}\n","import {bandwidthNRD} from 'vega-statistics';\nimport {array, constant, error, isFunction, one} from 'vega-util';\nimport {sum} from 'd3-array';\n\nfunction radius(bw, data, f) {\n  const v = bw >= 0 ? bw : bandwidthNRD(data, f);\n  return Math.round((Math.sqrt(4 * v * v + 1) - 1) / 2);\n}\n\nfunction number(_) {\n  return isFunction(_) ? _ : constant(+_);\n}\n\n// Implementation adapted from d3/d3-contour. Thanks!\nexport default function() {\n  var x = d => d[0],\n      y = d => d[1],\n      weight = one,\n      bandwidth = [-1, -1],\n      dx = 960,\n      dy = 500,\n      k = 2; // log2(cellSize)\n\n  function density(data, counts) {\n    const rx = radius(bandwidth[0], data, x) >> k, // blur x-radius\n          ry = radius(bandwidth[1], data, y) >> k, // blur y-radius\n          ox = rx ? rx + 2 : 0, // x-offset padding for blur\n          oy = ry ? ry + 2 : 0, // y-offset padding for blur\n          n = 2 * ox + (dx >> k), // grid width\n          m = 2 * oy + (dy >> k), // grid height\n          values0 = new Float32Array(n * m),\n          values1 = new Float32Array(n * m);\n\n    let values = values0;\n\n    data.forEach(d => {\n      const xi = ox + (+x(d) >> k),\n            yi = oy + (+y(d) >> k);\n\n      if (xi >= 0 && xi < n && yi >= 0 && yi < m) {\n        values0[xi + yi * n] += +weight(d);\n      }\n    });\n\n    if (rx > 0 && ry > 0) {\n      blurX(n, m, values0, values1, rx);\n      blurY(n, m, values1, values0, ry);\n      blurX(n, m, values0, values1, rx);\n      blurY(n, m, values1, values0, ry);\n      blurX(n, m, values0, values1, rx);\n      blurY(n, m, values1, values0, ry);\n    } else if (rx > 0) {\n      blurX(n, m, values0, values1, rx);\n      blurX(n, m, values1, values0, rx);\n      blurX(n, m, values0, values1, rx);\n      values = values1;\n    } else if (ry > 0) {\n      blurY(n, m, values0, values1, ry);\n      blurY(n, m, values1, values0, ry);\n      blurY(n, m, values0, values1, ry);\n      values = values1;\n    }\n\n    // scale density estimates\n    // density in points per square pixel or probability density\n    const s = counts ? Math.pow(2, -2 * k) : 1 / sum(values);\n    for (let i=0, sz=n*m; i<sz; ++i) values[i] *= s;\n\n    return {\n      values: values,\n      scale: 1 << k,\n      width: n,\n      height: m,\n      x1: ox,\n      y1: oy,\n      x2: ox + (dx >> k),\n      y2: oy + (dy >> k)\n    };\n  }\n\n  density.x = function(_) {\n    return arguments.length ? (x = number(_), density) : x;\n  };\n\n  density.y = function(_) {\n    return arguments.length ? (y = number(_), density) : y;\n  };\n\n  density.weight = function(_) {\n    return arguments.length ? (weight = number(_), density) : weight;\n  };\n\n  density.size = function(_) {\n    if (!arguments.length) return [dx, dy];\n    var _0 = +_[0], _1 = +_[1];\n    if (!(_0 >= 0 && _1 >= 0)) error('invalid size');\n    return dx = _0, dy = _1, density;\n  };\n\n  density.cellSize = function(_) {\n    if (!arguments.length) return 1 << k;\n    if (!((_ = +_) >= 1)) error('invalid cell size');\n    k = Math.floor(Math.log(_) / Math.LN2);\n    return density;\n  };\n\n  density.bandwidth = function(_) {\n    if (!arguments.length) return bandwidth;\n    _ = array(_);\n    if (_.length === 1) _ = [+_[0], +_[0]];\n    if (_.length !== 2) error('invalid bandwidth');\n    return bandwidth = _, density;\n  };\n\n  return density;\n}\n\nfunction blurX(n, m, source, target, r) {\n  const w = (r << 1) + 1;\n  for (let j = 0; j < m; ++j) {\n    for (let i = 0, sr = 0; i < n + r; ++i) {\n      if (i < n) {\n        sr += source[i + j * n];\n      }\n      if (i >= r) {\n        if (i >= w) {\n          sr -= source[i - w + j * n];\n        }\n        target[i - r + j * n] = sr / Math.min(i + 1, n - 1 + w - i, w);\n      }\n    }\n  }\n}\n\nfunction blurY(n, m, source, target, r) {\n  const w = (r << 1) + 1;\n  for (let i = 0; i < n; ++i) {\n    for (let j = 0, sr = 0; j < m + r; ++j) {\n      if (j < m) {\n        sr += source[i + j * n];\n      }\n      if (j >= r) {\n        if (j >= w) {\n          sr -= source[i + (j - w) * n];\n        }\n        target[i + (j - r) * n] = sr / Math.min(j + 1, m - 1 + w - j, w);\n      }\n    }\n  }\n}\n","export default function sum(values, valueof) {\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        sum += value;\n      }\n    }\n  }\n  return sum;\n}\n","import density2D from './util/density2D';\nimport {Transform, ingest} from 'vega-dataflow';\nimport {accessorName, inherits} from 'vega-util';\n\n/**\n * Perform 2D kernel-density estimation of point data.\n * @constructor\n * @param {object} params - The parameters for this operator.\n * @param {Array<number>} params.size - The [width, height] extent (in\n *   units of input pixels) over which to perform density estimation.\n * @param {function(object): number} params.x - The x-coordinate accessor.\n * @param {function(object): number} params.y - The y-coordinate accessor.\n * @param {function(object): number} [params.weight] - The weight accessor.\n * @param {Array<function(object): *>} [params.groupby] - An array of accessors\n *   to groupby.\n * @param {number} [params.cellSize] - Contour density calculation cell size.\n *   This parameter determines the level of spatial approximation. For example,\n *   the default value of 4 maps to 2x reductions in both x- and y- dimensions.\n *   A value of 1 will result in an output raster grid whose dimensions exactly\n *   matches the size parameter.\n * @param {Array<number>} [params.bandwidth] - The KDE kernel bandwidths,\n *   in pixels. The input can be a two-element array specifying separate\n *   x and y bandwidths, or a single-element array specifying both. If the\n *   bandwidth is unspecified or less than zero, the bandwidth will be\n *   automatically determined.\n * @param {boolean} [params.counts=false] - A boolean flag indicating if the\n *   output values should be probability estimates (false, default) or\n *   smoothed counts (true).\n * @param {string} [params.as='grid'] - The output field in which to store\n *   the generated raster grid (default 'grid').\n */\nexport default function KDE2D(params) {\n  Transform.call(this, null, params);\n}\n\nKDE2D.Definition = {\n  'type': 'KDE2D',\n  'metadata': {'generates': true},\n  'params': [\n    { 'name': 'size', 'type': 'number', 'array': true, 'length': 2, 'required': true },\n    { 'name': 'x', 'type': 'field', 'required': true },\n    { 'name': 'y', 'type': 'field', 'required': true },\n    { 'name': 'weight', 'type': 'field' },\n    { 'name': 'groupby', 'type': 'field', 'array': true },\n    { 'name': 'cellSize', 'type': 'number' },\n    { 'name': 'bandwidth', 'type': 'number', 'array': true, 'length': 2 },\n    { 'name': 'counts', 'type': 'boolean', 'default': false },\n    { 'name': 'as', 'type': 'string', 'default': 'grid'}\n  ]\n};\n\nconst PARAMS = ['x', 'y', 'weight', 'size', 'cellSize', 'bandwidth'];\n\nexport function params(obj, _) {\n  PARAMS.forEach(param => _[param] != null ? obj[param](_[param]) : 0);\n  return obj;\n}\n\ninherits(KDE2D, Transform, {\n  transform(_, pulse) {\n    if (this.value && !pulse.changed() && !_.modified())\n      return pulse.StopPropagation;\n\n    var out = pulse.fork(pulse.NO_SOURCE | pulse.NO_FIELDS),\n        source = pulse.materialize(pulse.SOURCE).source,\n        groups = partition(source, _.groupby),\n        names = (_.groupby || []).map(accessorName),\n        kde = params(density2D(), _),\n        as = _.as || 'grid',\n        values = [];\n\n    function set(t, vals) {\n      for (let i=0; i<names.length; ++i) t[names[i]] = vals[i];\n      return t;\n    }\n\n    // generate density raster grids\n    values = groups.map(g => ingest(\n      set({[as]: kde(g, _.counts)}, g.dims)\n    ));\n\n    if (this.value) out.rem = this.value;\n    this.value = out.source = out.add = values;\n\n    return out;\n  }\n});\n\nexport function partition(data, groupby) {\n  var groups = [],\n      get = f => f(t),\n      map, i, n, t, k, g;\n\n  // partition data points into groups\n  if (groupby == null) {\n    groups.push(data);\n  } else {\n    for (map={}, i=0, n=data.length; i<n; ++i) {\n      t = data[i];\n      k = groupby.map(get);\n      g = map[k];\n      if (!g) {\n        map[k] = (g = []);\n        g.dims = k;\n        groups.push(g);\n      }\n      g.push(t);\n    }\n  }\n\n  return groups;\n}\n","import {Transform, ingest} from 'vega-dataflow';\nimport {inherits, isArray} from 'vega-util';\nimport {transform} from './Isocontour';\nimport {params} from './KDE2D';\nimport contours from './util/contours';\nimport density2D from './util/density2D';\nimport quantize from './util/quantize';\n\n/**\n * Generate contours based on kernel-density estimation of point data.\n * @constructor\n * @param {object} params - The parameters for this operator.\n * @param {Array<number>} params.size - The dimensions [width, height] over which to compute contours.\n *  If the values parameter is provided, this must be the dimensions of the input data.\n *  If density estimation is performed, this is the output view dimensions in pixels.\n * @param {Array<number>} [params.values] - An array of numeric values representing an\n *  width x height grid of values over which to compute contours. If unspecified, this\n *  transform will instead attempt to compute contours for the kernel density estimate\n *  using values drawn from data tuples in the input pulse.\n * @param {function(object): number} [params.x] - The pixel x-coordinate accessor for density estimation.\n * @param {function(object): number} [params.y] - The pixel y-coordinate accessor for density estimation.\n * @param {function(object): number} [params.weight] - The data point weight accessor for density estimation.\n * @param {number} [params.cellSize] - Contour density calculation cell size.\n * @param {number} [params.bandwidth] - Kernel density estimation bandwidth.\n * @param {Array<number>} [params.thresholds] - Contour threshold array. If\n *   this parameter is set, the count and nice parameters will be ignored.\n * @param {number} [params.count] - The desired number of contours.\n * @param {boolean} [params.nice] - Boolean flag indicating if the contour\n *   threshold values should be automatically aligned to \"nice\"\n *   human-friendly values. Setting this flag may cause the number of\n *   thresholds to deviate from the specified count.\n * @param {boolean} [params.smooth] - Boolean flag indicating if the contour\n *   polygons should be smoothed using linear interpolation. The default is\n *   true. The parameter is ignored when using density estimation.\n */\nexport default function Contour(params) {\n  Transform.call(this, null, params);\n}\n\nContour.Definition = {\n  'type': 'Contour',\n  'metadata': {'generates': true},\n  'params': [\n    { 'name': 'size', 'type': 'number', 'array': true, 'length': 2, 'required': true },\n    { 'name': 'values', 'type': 'number', 'array': true },\n    { 'name': 'x', 'type': 'field' },\n    { 'name': 'y', 'type': 'field' },\n    { 'name': 'weight', 'type': 'field' },\n    { 'name': 'cellSize', 'type': 'number' },\n    { 'name': 'bandwidth', 'type': 'number' },\n    { 'name': 'count', 'type': 'number' },\n    { 'name': 'nice', 'type': 'boolean', 'default': false },\n    { 'name': 'thresholds', 'type': 'number', 'array': true },\n    { 'name': 'smooth', 'type': 'boolean', 'default': true }\n  ]\n};\n\ninherits(Contour, Transform, {\n  transform(_, pulse) {\n    if (this.value && !pulse.changed() && !_.modified()) {\n      return pulse.StopPropagation;\n    }\n\n    var out = pulse.fork(pulse.NO_SOURCE | pulse.NO_FIELDS),\n        contour = contours().smooth(_.smooth !== false),\n        values = _.values,\n        thresh = _.thresholds || quantize(_.count || 10, _.nice, !!values),\n        size = _.size, grid, post;\n\n    if (!values) {\n      values = pulse.materialize(pulse.SOURCE).source;\n      grid = params(density2D(), _)(values, true);\n      post = transform(grid, grid.scale || 1, grid.scale || 1, 0, 0);\n      size = [grid.width, grid.height];\n      values = grid.values;\n    }\n\n    thresh = isArray(thresh) ? thresh : thresh(values);\n    values = contour.size(size)(values, thresh);\n    if (post) values.forEach(post);\n\n    if (this.value) out.rem = this.value;\n    this.value = out.source = out.add = (values || []).map(ingest);\n\n    return out;\n  }\n});\n","export const Feature = 'Feature';\nexport const FeatureCollection = 'FeatureCollection';\nexport const MultiPoint = 'MultiPoint';\n","import {Feature, FeatureCollection, MultiPoint} from './constants';\nimport {Transform} from 'vega-dataflow';\nimport {accessorFields, identity, inherits} from 'vega-util';\n\n/**\n * Consolidate an array of [longitude, latitude] points or GeoJSON features\n * into a combined GeoJSON object. This transform is particularly useful for\n * combining geo data for a Projection's fit argument. The resulting GeoJSON\n * data is available as this transform's value. Input pulses are unchanged.\n * @constructor\n * @param {object} params - The parameters for this operator.\n * @param {Array<function(object): *>} [params.fields] - A two-element array\n *   of field accessors for the longitude and latitude values.\n * @param {function(object): *} params.geojson - A field accessor for\n *   retrieving GeoJSON feature data.\n */\nexport default function GeoJSON(params) {\n  Transform.call(this, null, params);\n}\n\nGeoJSON.Definition = {\n  'type': 'GeoJSON',\n  'metadata': {},\n  'params': [\n    { 'name': 'fields', 'type': 'field', 'array': true, 'length': 2 },\n    { 'name': 'geojson', 'type': 'field' }\n  ]\n};\n\ninherits(GeoJSON, Transform, {\n  transform(_, pulse) {\n    var features = this._features,\n        points = this._points,\n        fields = _.fields,\n        lon = fields && fields[0],\n        lat = fields && fields[1],\n        geojson = _.geojson || (!fields && identity),\n        flag = pulse.ADD,\n        mod;\n\n    mod = _.modified()\n      || pulse.changed(pulse.REM)\n      || pulse.modified(accessorFields(geojson))\n      || (lon && (pulse.modified(accessorFields(lon))))\n      || (lat && (pulse.modified(accessorFields(lat))));\n\n    if (!this.value || mod) {\n      flag = pulse.SOURCE;\n      this._features = (features = []);\n      this._points = (points = []);\n    }\n\n    if (geojson) {\n      pulse.visit(flag, t => features.push(geojson(t)));\n    }\n\n    if (lon && lat) {\n      pulse.visit(flag, t => {\n        var x = lon(t),\n            y = lat(t);\n        if (x != null && y != null && (x = +x) === x && (y = +y) === y) {\n          points.push([x, y]);\n        }\n      });\n      features = features.concat({\n        type: Feature,\n        geometry: {\n          type: MultiPoint,\n          coordinates: points\n        }\n      });\n    }\n\n    this.value = {\n      type: FeatureCollection,\n      features: features\n    };\n  }\n});\n","import {Transform} from 'vega-dataflow';\nimport {getProjectionPath} from 'vega-projection';\nimport {identity, inherits} from 'vega-util';\n\n/**\n * Map GeoJSON data to an SVG path string.\n * @constructor\n * @param {object} params - The parameters for this operator.\n * @param {function(number, number): *} params.projection - The cartographic\n *   projection to apply.\n * @param {function(object): *} [params.field] - The field with GeoJSON data,\n *   or null if the tuple itself is a GeoJSON feature.\n * @param {string} [params.as='path'] - The output field in which to store\n *   the generated path data (default 'path').\n */\nexport default function GeoPath(params) {\n  Transform.call(this, null, params);\n}\n\nGeoPath.Definition = {\n  'type': 'GeoPath',\n  'metadata': {'modifies': true},\n  'params': [\n    { 'name': 'projection', 'type': 'projection' },\n    { 'name': 'field', 'type': 'field' },\n    { 'name': 'pointRadius', 'type': 'number', 'expr': true },\n    { 'name': 'as', 'type': 'string', 'default': 'path' }\n  ]\n};\n\ninherits(GeoPath, Transform, {\n  transform(_, pulse) {\n    var out = pulse.fork(pulse.ALL),\n        path = this.value,\n        field = _.field || identity,\n        as = _.as || 'path',\n        flag = out.SOURCE;\n\n    if (!path || _.modified()) {\n      // parameters updated, reset and reflow\n      this.value = path = getProjectionPath(_.projection);\n      out.materialize().reflow();\n    } else {\n      flag = field === identity || pulse.modified(field.fields)\n        ? out.ADD_MOD\n        : out.ADD;\n    }\n\n    const prev = initPath(path, _.pointRadius);\n    out.visit(flag, t => t[as] = path(field(t)));\n    path.pointRadius(prev);\n\n    return out.modifies(as);\n  }\n});\n\nfunction initPath(path, pointRadius) {\n  const prev = path.pointRadius();\n  path.context(null);\n  if (pointRadius != null) {\n    path.pointRadius(pointRadius);\n  }\n  return prev;\n}\n","import {Transform} from 'vega-dataflow';\nimport {inherits} from 'vega-util';\n\n/**\n * Geo-code a longitude/latitude point to an x/y coordinate.\n * @constructor\n * @param {object} params - The parameters for this operator.\n * @param {function(number, number): *} params.projection - The cartographic\n *   projection to apply.\n * @param {Array<function(object): *>} params.fields - A two-element array of\n *   field accessors for the longitude and latitude values.\n * @param {Array<string>} [params.as] - A two-element array of field names\n *   under which to store the result. Defaults to ['x','y'].\n */\nexport default function GeoPoint(params) {\n  Transform.call(this, null, params);\n}\n\nGeoPoint.Definition = {\n  'type': 'GeoPoint',\n  'metadata': {'modifies': true},\n  'params': [\n    { 'name': 'projection', 'type': 'projection', 'required': true },\n    { 'name': 'fields', 'type': 'field', 'array': true, 'required': true, 'length': 2 },\n    { 'name': 'as', 'type': 'string', 'array': true, 'length': 2, 'default': ['x', 'y'] }\n  ]\n};\n\ninherits(GeoPoint, Transform, {\n  transform(_, pulse) {\n    var proj = _.projection,\n        lon = _.fields[0],\n        lat = _.fields[1],\n        as = _.as || ['x', 'y'],\n        x = as[0],\n        y = as[1],\n        mod;\n\n    function set(t) {\n      const xy = proj([lon(t), lat(t)]);\n      if (xy) {\n        t[x] = xy[0];\n        t[y] = xy[1];\n      } else {\n        t[x] = undefined;\n        t[y] = undefined;\n      }\n    }\n\n    if (_.modified()) {\n      // parameters updated, reflow\n      pulse = pulse.materialize().reflow(true).visit(pulse.SOURCE, set);\n    } else {\n      mod = pulse.modified(lon.fields) || pulse.modified(lat.fields);\n      pulse.visit(mod ? pulse.ADD_MOD : pulse.ADD, set);\n    }\n\n    return pulse.modifies(as);\n  }\n});\n","import {Transform} from 'vega-dataflow';\nimport {getProjectionPath} from 'vega-projection';\nimport {field, inherits} from 'vega-util';\n\n/**\n * Annotate items with a geopath shape generator.\n * @constructor\n * @param {object} params - The parameters for this operator.\n * @param {function(number, number): *} params.projection - The cartographic\n *   projection to apply.\n * @param {function(object): *} [params.field] - The field with GeoJSON data,\n *   or null if the tuple itself is a GeoJSON feature.\n * @param {string} [params.as='shape'] - The output field in which to store\n *   the generated path data (default 'shape').\n */\nexport default function GeoShape(params) {\n  Transform.call(this, null, params);\n}\n\nGeoShape.Definition = {\n  'type': 'GeoShape',\n  'metadata': {'modifies': true, 'nomod': true},\n  'params': [\n    { 'name': 'projection', 'type': 'projection' },\n    { 'name': 'field', 'type': 'field', 'default': 'datum' },\n    { 'name': 'pointRadius', 'type': 'number', 'expr': true },\n    { 'name': 'as', 'type': 'string', 'default': 'shape' }\n  ]\n};\n\ninherits(GeoShape, Transform, {\n  transform(_, pulse) {\n    var out = pulse.fork(pulse.ALL),\n        shape = this.value,\n        as = _.as || 'shape',\n        flag = out.ADD;\n\n    if (!shape || _.modified()) {\n      // parameters updated, reset and reflow\n      this.value = shape = shapeGenerator(\n        getProjectionPath(_.projection),\n        _.field || field('datum'),\n        _.pointRadius\n      );\n      out.materialize().reflow();\n      flag = out.SOURCE;\n    }\n\n    out.visit(flag, t => t[as] = shape);\n\n    return out.modifies(as);\n  }\n});\n\nfunction shapeGenerator(path, field, pointRadius) {\n  const shape = pointRadius == null\n    ? _ => path(field(_))\n    : _ => {\n      var prev = path.pointRadius(),\n          value = path.pointRadius(pointRadius)(field(_));\n      path.pointRadius(prev);\n      return value;\n    };\n  shape.context = _ => {\n    path.context(_);\n    return shape;\n  };\n\n  return shape;\n}\n","export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var hypot = Math.hypot;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n","import {range} from \"d3-array\";\nimport {abs, ceil, epsilon} from \"./math.js\";\n\nfunction graticuleX(y0, y1, dy) {\n  var y = range(y0, y1 - epsilon, dy).concat(y1);\n  return function(x) { return y.map(function(y) { return [x, y]; }); };\n}\n\nfunction graticuleY(x0, x1, dx) {\n  var x = range(x0, x1 - epsilon, dx).concat(x1);\n  return function(y) { return x.map(function(x) { return [x, y]; }); };\n}\n\nexport default function graticule() {\n  var x1, x0, X1, X0,\n      y1, y0, Y1, Y0,\n      dx = 10, dy = dx, DX = 90, DY = 360,\n      x, y, X, Y,\n      precision = 2.5;\n\n  function graticule() {\n    return {type: \"MultiLineString\", coordinates: lines()};\n  }\n\n  function lines() {\n    return range(ceil(X0 / DX) * DX, X1, DX).map(X)\n        .concat(range(ceil(Y0 / DY) * DY, Y1, DY).map(Y))\n        .concat(range(ceil(x0 / dx) * dx, x1, dx).filter(function(x) { return abs(x % DX) > epsilon; }).map(x))\n        .concat(range(ceil(y0 / dy) * dy, y1, dy).filter(function(y) { return abs(y % DY) > epsilon; }).map(y));\n  }\n\n  graticule.lines = function() {\n    return lines().map(function(coordinates) { return {type: \"LineString\", coordinates: coordinates}; });\n  };\n\n  graticule.outline = function() {\n    return {\n      type: \"Polygon\",\n      coordinates: [\n        X(X0).concat(\n        Y(Y1).slice(1),\n        X(X1).reverse().slice(1),\n        Y(Y0).reverse().slice(1))\n      ]\n    };\n  };\n\n  graticule.extent = function(_) {\n    if (!arguments.length) return graticule.extentMinor();\n    return graticule.extentMajor(_).extentMinor(_);\n  };\n\n  graticule.extentMajor = function(_) {\n    if (!arguments.length) return [[X0, Y0], [X1, Y1]];\n    X0 = +_[0][0], X1 = +_[1][0];\n    Y0 = +_[0][1], Y1 = +_[1][1];\n    if (X0 > X1) _ = X0, X0 = X1, X1 = _;\n    if (Y0 > Y1) _ = Y0, Y0 = Y1, Y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.extentMinor = function(_) {\n    if (!arguments.length) return [[x0, y0], [x1, y1]];\n    x0 = +_[0][0], x1 = +_[1][0];\n    y0 = +_[0][1], y1 = +_[1][1];\n    if (x0 > x1) _ = x0, x0 = x1, x1 = _;\n    if (y0 > y1) _ = y0, y0 = y1, y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.step = function(_) {\n    if (!arguments.length) return graticule.stepMinor();\n    return graticule.stepMajor(_).stepMinor(_);\n  };\n\n  graticule.stepMajor = function(_) {\n    if (!arguments.length) return [DX, DY];\n    DX = +_[0], DY = +_[1];\n    return graticule;\n  };\n\n  graticule.stepMinor = function(_) {\n    if (!arguments.length) return [dx, dy];\n    dx = +_[0], dy = +_[1];\n    return graticule;\n  };\n\n  graticule.precision = function(_) {\n    if (!arguments.length) return precision;\n    precision = +_;\n    x = graticuleX(y0, y1, 90);\n    y = graticuleY(x0, x1, precision);\n    X = graticuleX(Y0, Y1, 90);\n    Y = graticuleY(X0, X1, precision);\n    return graticule;\n  };\n\n  return graticule\n      .extentMajor([[-180, -90 + epsilon], [180, 90 - epsilon]])\n      .extentMinor([[-180, -80 - epsilon], [180, 80 + epsilon]]);\n}\n\nexport function graticule10() {\n  return graticule()();\n}\n","import {Transform, ingest, replace} from 'vega-dataflow';\nimport {inherits, isFunction} from 'vega-util';\nimport {geoGraticule} from 'd3-geo';\n\n/**\n * GeoJSON feature generator for creating graticules.\n * @constructor\n */\nexport default function Graticule(params) {\n  Transform.call(this, [], params);\n  this.generator = geoGraticule();\n}\n\nGraticule.Definition = {\n  'type': 'Graticule',\n  'metadata': {'changes': true, 'generates': true},\n  'params': [\n    { 'name': 'extent', 'type': 'array', 'array': true, 'length': 2,\n      'content': {'type': 'number', 'array': true, 'length': 2} },\n    { 'name': 'extentMajor', 'type': 'array', 'array': true, 'length': 2,\n      'content': {'type': 'number', 'array': true, 'length': 2} },\n    { 'name': 'extentMinor', 'type': 'array', 'array': true, 'length': 2,\n      'content': {'type': 'number', 'array': true, 'length': 2} },\n    { 'name': 'step', 'type': 'number', 'array': true, 'length': 2 },\n    { 'name': 'stepMajor', 'type': 'number', 'array': true, 'length': 2, 'default': [90, 360] },\n    { 'name': 'stepMinor', 'type': 'number', 'array': true, 'length': 2, 'default': [10, 10] },\n    { 'name': 'precision', 'type': 'number', 'default': 2.5 }\n  ]\n};\n\ninherits(Graticule, Transform, {\n  transform(_, pulse) {\n    var src = this.value,\n        gen = this.generator, t;\n\n    if (!src.length || _.modified()) {\n      for (const prop in _) {\n        if (isFunction(gen[prop])) {\n          gen[prop](_[prop]);\n        }\n      }\n    }\n\n    t = gen();\n    if (src.length) {\n      pulse.mod.push(replace(src[0], t));\n    } else {\n      pulse.add.push(ingest(t));\n    }\n    src[0] = t;\n\n    return pulse;\n  }\n});\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","import {max} from 'd3-array';\nimport {rgb} from 'd3-color';\nimport {canvas} from 'vega-canvas';\nimport {Transform} from 'vega-dataflow';\nimport {\n  accessorFields, constant, extend, identity,\n  inherits, isFunction, toSet, zero\n} from 'vega-util';\n\n/**\n * Render a heatmap image for input raster grid data.\n * @constructor\n * @param {object} params - The parameters for this operator.\n * @param {function(object): *} [params.field] - The field with raster grid\n *   data. If unspecified, the tuple itself is interpreted as a raster grid.\n * @param {string} [params.color] - A constant color value or function for\n *   individual pixel color. If a function, it will be invoked with an input\n *   object that includes $x, $y, $value, and $max fields for the grid.\n * @param {number} [params.opacity] - A constant opacity value or function for\n *   individual pixel opacity. If a function, it will be invoked with an input\n *   object that includes $x, $y, $value, and $max fields for the grid.\n * @param {string} [params.resolve] - The method for resolving maximum values\n *   across multiple input grids. If 'independent' (the default), maximum\n *   calculation will be performed separately for each grid. If 'shared',\n *   a single global maximum will be used for all input grids.\n * @param {string} [params.as='image'] - The output field in which to store\n *   the generated bitmap canvas images (default 'image').\n */\nexport default function Heatmap(params) {\n  Transform.call(this, null, params);\n}\n\nHeatmap.Definition = {\n  'type': 'heatmap',\n  'metadata': {'modifies': true},\n  'params': [\n    { 'name': 'field', 'type': 'field' },\n    { 'name': 'color', 'type': 'string', 'expr': true},\n    { 'name': 'opacity', 'type': 'number', 'expr': true},\n    { 'name': 'resolve', 'type': 'enum', 'values': ['shared', 'independent'], 'default': 'independent' },\n    { 'name': 'as', 'type': 'string', 'default': 'image' }\n  ]\n};\n\ninherits(Heatmap, Transform, {\n  transform(_, pulse) {\n    if (!pulse.changed() && !_.modified()) {\n      return pulse.StopPropagation;\n    }\n\n    var source = pulse.materialize(pulse.SOURCE).source,\n        shared = _.resolve === 'shared',\n        field = _.field || identity,\n        opacity = opacity_(_.opacity, _),\n        color = color_(_.color, _),\n        as = _.as || 'image',\n        obj = {\n          $x: 0, $y: 0, $value: 0,\n          $max: shared ? max(source.map(t => max(field(t).values))) : 0\n        };\n\n    source.forEach(t => {\n      const v = field(t);\n\n      // build proxy data object\n      const o = extend({}, t, obj);\n      // set maximum value if not globally shared\n      if (!shared) o.$max = max(v.values || []);\n\n      // generate canvas image\n      // optimize color/opacity if not pixel-dependent\n      t[as] = toCanvas(v, o,\n        color.dep ? color : constant(color(o)),\n        opacity.dep ? opacity : constant(opacity(o))\n      );\n    });\n\n    return pulse.reflow(true).modifies(as);\n  }\n});\n\n// get image color function\nfunction color_(color, _) {\n  let f;\n  if (isFunction(color)) {\n    f = obj => rgb(color(obj, _));\n    f.dep = dependency(color);\n  } else {\n    // default to mid-grey\n    f = constant(rgb(color || '#888'));\n  }\n  return f;\n}\n\n// get image opacity function\nfunction opacity_(opacity, _) {\n  let f;\n  if (isFunction(opacity)) {\n    f = obj => opacity(obj, _);\n    f.dep = dependency(opacity);\n  } else if (opacity) {\n    f = constant(opacity);\n  } else {\n    // default to [0, max] opacity gradient\n    f = obj => (obj.$value / obj.$max) || 0;\n    f.dep = true;\n  }\n  return f;\n}\n\n// check if function depends on individual pixel data\nfunction dependency(f) {\n  if (!isFunction(f)) return false;\n  const set = toSet(accessorFields(f));\n  return set.$x || set.$y || set.$value || set.$max;\n}\n\n// render raster grid to canvas\nfunction toCanvas(grid, obj, color, opacity) {\n  const n = grid.width,\n        m = grid.height,\n        x1 = grid.x1 || 0,\n        y1 = grid.y1 || 0,\n        x2 = grid.x2 || n,\n        y2 = grid.y2 || m,\n        val = grid.values,\n        value = val ? i => val[i] : zero,\n        can = canvas(x2 - x1, y2 - y1),\n        ctx = can.getContext('2d'),\n        img = ctx.getImageData(0, 0, x2 - x1, y2 - y1),\n        pix = img.data;\n\n  for (let j=y1, k=0; j<y2; ++j) {\n    obj.$y = j - y1;\n    for (let i=x1, r=j*n; i<x2; ++i, k+=4) {\n      obj.$x = i - x1;\n      obj.$value = value(i + r);\n\n      const v = color(obj);\n      pix[k+0] = v.r;\n      pix[k+1] = v.g;\n      pix[k+2] = v.b;\n      pix[k+3] = ~~(255 * opacity(obj));\n    }\n  }\n\n  ctx.putImageData(img, 0, 0);\n  return can;\n}\n","import {Feature, FeatureCollection} from './constants';\nimport {Transform} from 'vega-dataflow';\nimport {projection, projectionProperties} from 'vega-projection';\nimport {array, error, inherits, isFunction} from 'vega-util';\n\n/**\n * Maintains a cartographic projection.\n * @constructor\n * @param {object} params - The parameters for this operator.\n */\nexport default function Projection(params) {\n  Transform.call(this, null, params);\n  this.modified(true); // always treat as modified\n}\n\ninherits(Projection, Transform, {\n  transform(_, pulse) {\n    let proj = this.value;\n\n    if (!proj || _.modified('type')) {\n      this.value = (proj = create(_.type));\n      projectionProperties.forEach(prop => {\n        if (_[prop] != null) set(proj, prop, _[prop]);\n      });\n    } else {\n      projectionProperties.forEach(prop => {\n        if (_.modified(prop)) set(proj, prop, _[prop]);\n      });\n    }\n\n    if (_.pointRadius != null) proj.path.pointRadius(_.pointRadius);\n    if (_.fit) fit(proj, _);\n\n    return pulse.fork(pulse.NO_SOURCE | pulse.NO_FIELDS);\n  }\n});\n\nfunction fit(proj, _) {\n  const data = collectGeoJSON(_.fit);\n  _.extent ? proj.fitExtent(_.extent, data)\n    : _.size ? proj.fitSize(_.size, data) : 0;\n}\n\nfunction create(type) {\n  const constructor = projection((type || 'mercator').toLowerCase());\n  if (!constructor) error('Unrecognized projection type: ' + type);\n  return constructor();\n}\n\nfunction set(proj, key, value) {\n   if (isFunction(proj[key])) proj[key](value);\n}\n\nexport function collectGeoJSON(data) {\n  data = array(data);\n  return data.length === 1 ? data[0]\n    : {\n        type: FeatureCollection,\n        features: data.reduce((a, f) => a.concat(featurize(f)), [])\n      };\n}\n\nfunction featurize(f) {\n  return f.type === FeatureCollection\n    ? f.features\n    : array(f).filter(d => d != null).map(\n        d => d.type === Feature ? d : {type: Feature, geometry: d}\n      );\n}\n"],"names":["e10","Math","sqrt","e5","e2","max","values","valueof","undefined","value","index","start","stop","step","n","arguments","length","i","ceil","range","Array","noop","cases","dx","dy","smooth","smoothLinear","contours","tz","map","contour","polygons","holes","callback","x","y","t0","t1","t2","t3","fragmentByStart","fragmentByEnd","forEach","stitch","line","f","g","end","startIndex","endIndex","ring","push","concat","unshift","isorings","area","hole","polygon","contains","type","coordinates","point","v0","xt","yt","v1","size","_","_0","floor","_1","error","c","ringContains","j","pi","xi","yi","pj","xj","yj","segmentContains","a","b","p","q","r","collinear","k","nice","zero","ex","extent","min","span","count","step0","abs","step1","pow","log","LN10","tickStep","Isocontour","params","Transform","call","this","transform","grid","sx","sy","tx","ty","x1","y1","flip","transformPolygon","transformRing","reverse","transformPoint","geometry","radius","bw","data","v","bandwidthNRD","round","number","isFunction","constant","d","weight","one","bandwidth","density","counts","rx","ry","ox","oy","m","values0","Float32Array","values1","blurX","blurY","s","sum","sz","scale","width","height","x2","y2","cellSize","LN2","array","source","target","w","sr","KDE2D","Definition","pulse","changed","modified","StopPropagation","out","fork","NO_SOURCE","NO_FIELDS","materialize","SOURCE","field","identity","thresholds","quantize","levels","resolve","t","as","paths","isArray","datum","translate","isNumber","transformPaths","rederive","ingest","rem","add","PARAMS","obj","param","Contour","groups","groupby","get","dims","partition","names","accessorName","kde","density2D","vals","set","post","thresh","Feature","FeatureCollection","GeoJSON","GeoPath","GeoPoint","GeoShape","mod","features","_features","points","_points","fields","lon","lat","geojson","flag","ADD","REM","accessorFields","visit","ALL","path","getProjectionPath","projection","reflow","ADD_MOD","prev","pointRadius","context","initPath","modifies","proj","xy","shape","shapeGenerator","epsilon","graticuleX","y0","graticuleY","x0","Graticule","generator","X1","X0","Y1","Y0","X","Y","DX","DY","precision","graticule","lines","filter","outline","slice","extentMajor","extentMinor","stepMajor","stepMinor","geoGraticule","constructor","factory","prototype","extend","parent","definition","Object","create","key","Color","src","gen","prop","replace","darker","brighter","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","color","format","l","trim","toLowerCase","exec","parseInt","rgbn","Rgb","rgba","hsla","hasOwnProperty","NaN","rgbConvert","o","opacity","rgb_formatHex","hex","rgb_formatRgb","isNaN","toString","h","Hsl","hslConvert","hsl2rgb","m1","m2","Heatmap","dependency","toSet","$x","$y","$value","$max","Projection","define","copy","channels","assign","displayable","formatHsl","shared","dep","opacity_","color_","val","can","canvas","ctx","getContext","img","getImageData","pix","putImageData","toCanvas","projectionProperties","fit","reduce","featurize","collectGeoJSON","fitExtent","fitSize"],"mappings":"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"}