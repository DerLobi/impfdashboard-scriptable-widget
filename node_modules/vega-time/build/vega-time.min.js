var vega=function(t,e){"use strict";const n="year",r="quarter",u="month",o="week",i="date",c="day",a="dayofyear",f="hours",s="minutes",l="seconds",g="milliseconds",T=[n,r,u,o,i,c,a,f,s,l,g],h=T.reduce((t,e,n)=>(t[e]=1+n,t),{});function U(t){const n=e.array(t).slice(),r={};n.length||e.error("Missing time unit."),n.forEach(t=>{e.hasOwnProperty(h,t)?r[t]=1:e.error("Invalid time unit: ".concat(t,"."))});return(r.week||r.day?1:0)+(r.quarter||r.month||r.date?1:0)+(r.dayofyear?1:0)>1&&e.error("Incompatible time units: ".concat(t)),n.sort((t,e)=>h[t]-h[e]),n}const M={[n]:"%Y ",[r]:"Q%q ",[u]:"%b ",[i]:"%d ",[o]:"W%U ",[c]:"%a ",[a]:"%j ",[f]:"%H:00",[s]:"00:%M",[l]:":%S",[g]:".%L",["".concat(n,"-").concat(u)]:"%Y-%m ",["".concat(n,"-").concat(u,"-").concat(i)]:"%Y-%m-%d ",["".concat(f,"-").concat(s)]:"%H:%M"};var C=new Date,D=new Date;function m(t,e,n,r){function u(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return u.floor=function(e){return t(e=new Date(+e)),e},u.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},u.round=function(t){var e=u(t),n=u.ceil(t);return t-e<n-t?e:n},u.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},u.range=function(n,r,o){var i,c=[];if(n=u.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return c;do{c.push(i=new Date(+n)),e(n,o),t(n)}while(i<n&&n<r);return c},u.filter=function(n){return m((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(u.count=function(e,r){return C.setTime(+e),D.setTime(+r),t(C),t(D),Math.floor(n(C,D))},u.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?u.filter(r?function(e){return r(e)%t==0}:function(e){return u.count(0,e)%t==0}):u:null}),u}var F=m((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));F.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?m((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):F:null};var Y=1e3,d=6e4,y=36e5,w=864e5,v=6048e5,H=m((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*Y)}),(function(t,e){return(e-t)/Y}),(function(t){return t.getUTCSeconds()})),S=m((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Y)}),(function(t,e){t.setTime(+t+e*d)}),(function(t,e){return(e-t)/d}),(function(t){return t.getMinutes()})),O=m((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Y-t.getMinutes()*d)}),(function(t,e){t.setTime(+t+e*y)}),(function(t,e){return(e-t)/y}),(function(t){return t.getHours()})),E=m(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*d)/w,t=>t.getDate()-1);function q(t){return m((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*d)/v}))}var z=q(0),I=(q(1),q(2),q(3),q(4),q(5),q(6),m((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}))),k=m((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));k.every=function(t){return isFinite(t=Math.floor(t))&&t>0?m((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var p=m((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*d)}),(function(t,e){return(e-t)/d}),(function(t){return t.getUTCMinutes()})),N=m((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*y)}),(function(t,e){return(e-t)/y}),(function(t){return t.getUTCHours()})),b=m((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/w}),(function(t){return t.getUTCDate()-1}));function A(t){return m((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/v}))}var x=A(0),R=(A(1),A(2),A(3),A(4),A(5),A(6),m((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}))),L=m((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));L.every=function(t){return isFinite(t=Math.floor(t))&&t>0?m((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};const j=new Date;function Q(t){return j.setFullYear(t),j.setMonth(0),j.setDate(1),j.setHours(0,0,0,0),j}function W(t){return E.count(Q(t.getFullYear())-1,t)}function B(t){return z.count(Q(t.getFullYear())-1,t)}function K(t){return Q(t).getDay()}function P(t,e,n,r,u,o,i){if(0<=t&&t<100){const c=new Date(-1,e,n,r,u,o,i);return c.setFullYear(t),c}return new Date(t,e,n,r,u,o,i)}function _(t){const e=Date.UTC(t.getUTCFullYear(),0,1);return b.count(e-1,t)}function G(t){const e=Date.UTC(t.getUTCFullYear(),0,1);return x.count(e-1,t)}function J(t){return j.setTime(Date.UTC(t,0,1)),j.getUTCDay()}function V(t,e,n,r,u,o,i){if(0<=t&&t<100){const t=new Date(Date.UTC(-1,e,n,r,u,o,i));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(t,e,n,r,u,o,i))}function X(t,T,h,U,M){const C=T||1,D=e.peek(t),m=(t,e,n)=>function(t,e,n,r){const u=n<=1?t:r?(e,u)=>r+n*Math.floor((t(e,u)-r)/n):(e,r)=>n*Math.floor(t(e,r)/n);return e?(t,n)=>e(u(t,n),n):u}(h[n=n||t],U[n],t===D&&C,e),F=new Date,Y=e.toSet(t),d=Y.year?m(n):e.constant(2012),y=Y.month?m(u):Y.quarter?m(r):e.zero,w=Y.week&&Y.day?m(c,1,o+c):Y.week?m(o,1):Y.day?m(c,1):Y.date?m(i,1):Y.dayofyear?m(a,1):e.one,v=Y.hours?m(f):e.zero,H=Y.minutes?m(s):e.zero,S=Y.seconds?m(l):e.zero,O=Y.milliseconds?m(g):e.zero;return function(t){F.setTime(+t);const e=d(F);return M(e,y(F),w(F,e),v(F),H(F),S(F),O(F))}}function Z(t,e,n){return e+7*t-(n+6)%7}const $={[n]:t=>t.getFullYear(),[r]:t=>Math.floor(t.getMonth()/3),[u]:t=>t.getMonth(),[i]:t=>t.getDate(),[f]:t=>t.getHours(),[s]:t=>t.getMinutes(),[l]:t=>t.getSeconds(),[g]:t=>t.getMilliseconds(),[a]:t=>W(t),[o]:t=>B(t),[o+c]:(t,e)=>Z(B(t),t.getDay(),K(e)),[c]:(t,e)=>Z(1,t.getDay(),K(e))},tt={[r]:t=>3*t,[o]:(t,e)=>Z(t,0,K(e))};const et={[n]:t=>t.getUTCFullYear(),[r]:t=>Math.floor(t.getUTCMonth()/3),[u]:t=>t.getUTCMonth(),[i]:t=>t.getUTCDate(),[f]:t=>t.getUTCHours(),[s]:t=>t.getUTCMinutes(),[l]:t=>t.getUTCSeconds(),[g]:t=>t.getUTCMilliseconds(),[a]:t=>_(t),[o]:t=>G(t),[c]:(t,e)=>Z(1,t.getUTCDay(),J(e)),[o+c]:(t,e)=>Z(G(t),t.getUTCDay(),J(e))},nt={[r]:t=>3*t,[o]:(t,e)=>Z(t,0,J(e))};const rt={[n]:k,[r]:I.every(3),[u]:I,[o]:z,[i]:E,[c]:E,[a]:E,[f]:O,[s]:S,[l]:H,[g]:F},ut={[n]:L,[r]:R.every(3),[u]:R,[o]:x,[i]:b,[c]:b,[a]:b,[f]:N,[s]:p,[l]:H,[g]:F};function ot(t){return rt[t]}function it(t){return ut[t]}function ct(t,e,n){return t?t.offset(e,n):void 0}function at(t,e,n,r){return t?t.range(e,n,r):void 0}function ft(t){let e=t,n=t;function r(t,e,r,u){for(null==r&&(r=0),null==u&&(u=t.length);r<u;){const o=r+u>>>1;n(t[o],e)<0?r=o+1:u=o}return r}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>{return(r=t(e))<(u=n)?-1:r>u?1:r>=u?0:NaN;var r,u}}(t)),{left:r,center:function(t,n,u,o){null==u&&(u=0),null==o&&(o=t.length);const i=r(t,n,u,o-1);return i>u&&e(t[i-1],n)>-e(t[i],n)?i-1:i},right:function(t,e,r,u){for(null==r&&(r=0),null==u&&(u=t.length);r<u;){const o=r+u>>>1;n(t[o],e)>0?u=o:r=o+1}return r}}}var st=Math.sqrt(50),lt=Math.sqrt(10),gt=Math.sqrt(2);function Tt(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),u=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/u;return o>=st?u*=10:o>=lt?u*=5:o>=gt&&(u*=2),e<t?-u:u}const ht=1e3,Ut=6e4,Mt=36e5,Ct=864e5,Dt=2592e6,mt=31536e6,Ft=[n,u,i,f,s,l,g],Yt=Ft.slice(0,-1),dt=Yt.slice(0,-1),yt=dt.slice(0,-1),wt=yt.slice(0,-1),vt=[n,u],Ht=[n],St=[[Yt,1,ht],[Yt,5,5e3],[Yt,15,15e3],[Yt,30,3e4],[dt,1,Ut],[dt,5,3e5],[dt,15,9e5],[dt,30,18e5],[yt,1,Mt],[yt,3,108e5],[yt,6,216e5],[yt,12,432e5],[wt,1,Ct],[[n,o],1,6048e5],[vt,1,Dt],[vt,3,7776e6],[Ht,1,mt]];return t.DATE=i,t.DAY=c,t.DAYOFYEAR=a,t.HOURS=f,t.MILLISECONDS=g,t.MINUTES=s,t.MONTH=u,t.QUARTER=r,t.SECONDS=l,t.TIME_UNITS=T,t.WEEK=o,t.YEAR=n,t.dayofyear=function(t){return W(new Date(t))},t.timeBin=function(t){const n=t.extent,r=t.maxbins||40,u=Math.abs(e.span(n))/r;let o,i,c=ft(t=>t[2]).right(St,u);return c===St.length?(o=Ht,i=Tt(n[0]/mt,n[1]/mt,r)):c?(c=St[u/St[c-1][2]<St[c][2]/u?c-1:c],o=c[0],i=c[1]):(o=Ft,i=Math.max(Tt(n[0],n[1],r),1)),{units:o,step:i}},t.timeFloor=function(t,e){return X(t,e||1,$,tt,P)},t.timeInterval=ot,t.timeOffset=function(t,e,n){return ct(ot(t),e,n)},t.timeSequence=function(t,e,n,r){return at(ot(t),e,n,r)},t.timeUnitSpecifier=function(t,n){const r=e.extend({},M,n),u=U(t),o=u.length;let i,c,a="",f=0;for(f=0;f<o;)for(i=u.length;i>f;--i)if(c=u.slice(f,i).join("-"),null!=r[c]){a+=r[c],f=i;break}return a.trim()},t.timeUnits=U,t.utcFloor=function(t,e){return X(t,e||1,et,nt,V)},t.utcInterval=it,t.utcOffset=function(t,e,n){return ct(it(t),e,n)},t.utcSequence=function(t,e,n,r){return at(it(t),e,n,r)},t.utcdayofyear=function(t){return _(new Date(t))},t.utcweek=function(t){return G(new Date(t))},t.week=function(t){return B(new Date(t))},t}({},vega);
//# sourceMappingURL=vega-time.min.js.map
